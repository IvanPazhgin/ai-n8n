# üìã –†–µ–∑—é–º–µ –ø—Ä–æ–µ–∫—Ç–∞: AI-N8N Telegram Bot —Å Ollama

## üéØ –¶–µ–ª—å –ø—Ä–æ–µ–∫—Ç–∞

–°–æ–∑–¥–∞–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ AI-–∞–≥–µ–Ω—Ç–∞ –ø–æ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏, –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Å Telegram —á–µ—Ä–µ–∑ –±–µ—Å–ø–ª–∞—Ç–Ω—É—é –ª–æ–∫–∞–ª—å–Ω—É—é AI –º–æ–¥–µ–ª—å Ollama.

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏

### 1. **–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞** ‚úÖ

- **Docker Compose** —Å n8n, PostgreSQL –∏ Ollama
- **Ollama** —Å –º–æ–¥–µ–ª—å—é llama3.2:1b (1.3 GB, –±–µ—Å–ø–ª–∞—Ç–Ω–∞—è)
- **n8n** –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ —Ä–∞–±–æ—á–∏—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
- **PostgreSQL** –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö

### 2. **–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ** üîÑ

- **–°–µ—Ä–≤–∏—Å—ã –∑–∞–ø—É—â–µ–Ω—ã:** n8n (–ø–æ—Ä—Ç 5678), PostgreSQL (5432), Ollama (11434)
- **AI –º–æ–¥–µ–ª—å –∑–∞–≥—Ä—É–∂–µ–Ω–∞** –∏ –¥–æ—Å—Ç—É–ø–Ω–∞ —á–µ—Ä–µ–∑ API
- **–†–∞–±–æ—á–∏–π –ø—Ä–æ—Ü–µ—Å—Å –≤ n8n** —á–∞—Å—Ç–∏—á–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- **Telegram –±–æ—Ç** –Ω–∞—Å—Ç—Ä–æ–µ–Ω, —Ç–æ–∫–µ–Ω –ø–æ–ª—É—á–µ–Ω

### 3. **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ä–µ—à–µ–Ω–∏—è**

```
Telegram User ‚Üí Telegram Bot API ‚Üí n8n ‚Üí Ollama AI ‚Üí Telegram Response
```

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**

- **Schedule Trigger** - –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫
- **HTTP Request** - –ø–æ–ª—É—á–µ–Ω–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –æ—Ç Telegram Bot API
- **Function** - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π
- **HTTP Request** - –∑–∞–ø—Ä–æ—Å –∫ Ollama –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ—Ç–≤–µ—Ç–∞
- **HTTP Request** - –æ—Ç–ø—Ä–∞–≤–∫–∞ –æ—Ç–≤–µ—Ç–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é

### 4. **–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏**

- **n8n** 1.117.3 - –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏
- **Ollama** - –ª–æ–∫–∞–ª—å–Ω—ã–π AI —Å–µ—Ä–≤–µ—Ä
- **llama3.2:1b** - –ª–µ–≥–∫–æ–≤–µ—Å–Ω–∞—è –º–æ–¥–µ–ª—å Llama –¥–ª—è –æ—Ç–≤–µ—Ç–æ–≤
- **Docker** - –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è
- **PostgreSQL** - –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- **Telegram Bot API** - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä–æ–º

## üîß –¢–µ–∫—É—â–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

### 1. **JSON –≤–∞–ª–∏–¥–∞—Ü–∏—è –≤ n8n**

- –í—ã—Ä–∞–∂–µ–Ω–∏—è –≤–Ω—É—Ç—Ä–∏ JSON body –≤—ã–∑—ã–≤–∞—é—Ç –æ—à–∏–±–∫–∏ –ø–∞—Ä—Å–∏–Ω–≥–∞
- –†–µ—à–µ–Ω–∏–µ: —Ä–∞–∑–¥–µ–ª–∏—Ç—å –ª–æ–≥–∏–∫—É –Ω–∞ –æ—Ç–¥–µ–ª—å–Ω—ã–µ Function —É–∑–ª—ã

### 2. **–û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π**

- –ù—É–∂–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∏–∑–≤–ª–µ–∫–∞—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è –∏–∑ Telegram API
- –¢—Ä–µ–±—É–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ update_id –¥–ª—è –∏–∑–±–µ–∂–∞–Ω–∏—è –¥—É–±–ª–∏–∫–∞—Ç–æ–≤

## üìù –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### 1. **–ò—Å–ø—Ä–∞–≤–∏—Ç—å JSON —Å—Ç—Ä—É–∫—Ç—É—Ä—É**

```javascript
// –í Function —É–∑–ª–µ –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ
return [
  {
    json: {
      model: 'llama3.2:1b',
      prompt: `–¢—ã AI –∞–≥–µ–Ω—Ç –ø–æ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏. –û—Ç–≤–µ—Ç—å: ${lastMessage}`,
      stream: false,
    },
  },
]
```

### 2. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª–Ω—ã–π —Ü–∏–∫–ª**

- –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Ç–µ—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ Telegram
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–ª—É—á–µ–Ω–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –≤ n8n
- –£–±–µ–¥–∏—Ç—å—Å—è –≤ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ—Ç–≤–µ—Ç–∞ AI
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç–ø—Ä–∞–≤–∫—É –æ—Ç–≤–µ—Ç–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é

### 3. **–£–ª—É—á—à–µ–Ω–∏—è**

- –î–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫
- –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ —Ä–∞–∑–≥–æ–≤–æ—Ä–æ–≤
- –î–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏–π

## üéâ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã

### ‚úÖ **–î–æ—Å—Ç–∏–≥–Ω—É—Ç–æ:**

- –ü–æ–ª–Ω–æ—Å—Ç—å—é –±–µ—Å–ø–ª–∞—Ç–Ω–∞—è AI –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞
- –õ–æ–∫–∞–ª—å–Ω–∞—è –º–æ–¥–µ–ª—å –±–µ–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –æ—Ç –≤–Ω–µ—à–Ω–∏—Ö API
- –ì–æ—Ç–æ–≤–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –¥–ª—è Telegram –±–æ—Ç–∞
- –ü–æ–ª–Ω–∞—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è —Å Docker

### üîÑ **–í –ø—Ä–æ—Ü–µ—Å—Å–µ:**

- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–∞–±–æ—á–µ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ –≤ n8n
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Telegram + AI
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ª–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏

### üìä **–ü–æ–∫–∞–∑–∞—Ç–µ–ª–∏:**

- **–ú–æ–¥–µ–ª—å:** llama3.2:1b (1.3 GB)
- **–ü–∞–º—è—Ç—å:** ~7.4 GB –¥–æ—Å—Ç—É–ø–Ω–æ –≤ Docker
- **–°–∫–æ—Ä–æ—Å—Ç—å –æ—Ç–≤–µ—Ç–∞:** –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –º–æ—â–Ω–æ—Å—Ç–∏ CPU
- **–°—Ç–æ–∏–º–æ—Å—Ç—å:** 0$ (–ø–æ–ª–Ω–æ—Å—Ç—å—é –±–µ—Å–ø–ª–∞—Ç–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ)

## üöÄ –ü–µ—Ä—Å–ø–µ–∫—Ç–∏–≤—ã

1. **–ú–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–π AI –∞–≥–µ–Ω—Ç** - –∞–Ω–∞–ª–æ–≥–∏—á–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –¥–ª—è –∑–¥—Ä–∞–≤–æ–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
2. **–Æ—Ä–∏–¥–∏—á–µ—Å–∫–∏–π –∫–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç** - –¥–ª—è –±–∞–∑–æ–≤—ã—Ö —é—Ä–∏–¥–∏—á–µ—Å–∫–∏—Ö –≤–æ–ø—Ä–æ—Å–æ–≤
3. **–û–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã–π –ø–æ–º–æ—â–Ω–∏–∫** - –¥–ª—è –æ–±—É—á–µ–Ω–∏—è –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
4. **–ë–∏–∑–Ω–µ—Å-–∞–Ω–∞–ª–∏—Ç–∏–∫–∞** - –∞–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á–µ—Ç–æ–≤

–ü—Ä–æ–µ–∫—Ç –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã—Ö AI-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ –±–µ—Å–ø–ª–∞—Ç–Ω—ã—Ö –∏ –æ—Ç–∫—Ä—ã—Ç—ã—Ö —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π.
